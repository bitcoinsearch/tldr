<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - BIP 35: add mempool message</title>
  <updated>2023-06-06T07:06:09.689143+00:00</updated>
  <author>
    <name>Jeff Garzik 2012-08-16 17:32:04</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 18:20:55</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 20:57:40</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 21:05:58</name>
  </author>
  <author>
    <name>Mike Hearn 2012-08-17 12:27:04</name>
  </author>
  <author>
    <name>Pieter Wuille 2012-08-17 13:40:01</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-17 16:51:33</name>
  </author>
  <author>
    <name>Pieter Wuille 2012-08-16 17:56:39</name>
  </author>
  <author>
    <name>Alan Reiner 2012-08-16 19:36:25</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 21:05:58</name>
  </author>
  <author>
    <name>Pieter Wuille 2012-08-17 13:40:01</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-17 16:51:33</name>
  </author>
  <author>
    <name>Stefan Thomas 2012-08-16 19:21:14</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 20:57:40</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 21:05:58</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 17:40:53</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 17:43:05</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 17:43:05</name>
  </author>
  <author>
    <name>Pieter Wuille 2012-08-16 17:56:39</name>
  </author>
  <author>
    <name>Alan Reiner 2012-08-16 19:36:25</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 17:43:05</name>
  </author>
  <author>
    <name>Alan Reiner 2012-08-16 19:36:25</name>
  </author>
  <author>
    <name>Mike Hearn 2012-08-17 12:27:04</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 17:40:53</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 18:04:13</name>
  </author>
  <author>
    <name>Stefan Thomas 2012-08-16 19:21:14</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 17:32:04</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 17:40:53</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 18:04:13</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 18:20:55</name>
  </author>
  <author>
    <name>Stefan Thomas 2012-08-16 19:21:14</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 20:57:40</name>
  </author>
  <author>
    <name>Mike Hearn 2012-08-17 12:27:04</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 18:04:13</name>
  </author>
  <author>
    <name>Pieter Wuille 2012-08-16 17:56:39</name>
  </author>
  <author>
    <name>Amir Taaki 2012-08-16 18:20:55</name>
  </author>
  <author>
    <name>Pieter Wuille 2012-08-17 13:40:01</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-17 16:51:33</name>
  </author>
  <author>
    <name>Jeff Garzik 2012-08-16 17:32:04</name>
  </author>
  <link href="bitcoin-dev/Aug_2012/001792_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001797_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001800_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001801_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001802_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001803_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001804_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001796_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001799_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001801_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001803_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001804_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001798_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001800_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001801_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001793_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001794_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001794_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001796_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001799_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001794_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001799_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001802_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001793_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001795_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001798_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001792_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001793_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001795_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001797_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001798_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001800_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001802_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001795_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001796_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001797_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001803_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001804_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <link href="bitcoin-dev/Aug_2012/001792_BIP-35-add-mempool-message.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - BIP 35: add mempool message</title>
    <updated>2023-06-06T07:06:09.690143+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2012-August/001792.html" rel="alternate"/>
    <summary>Bitcoin developer Jeff Garzik proposed a Bitcoin Improvement Proposal (BIP) for P2P changes, which would make network node's transaction memory pool accessible via a new "mempool" message. The existing "getdata" message behavior is to be extended to permit accessing the transaction memory pool. The goal is to enable several use cases like SPV clients, miners downloading existing network transactions after a restart, and remote network diagnostics. Upon receipt of a "mempool" message, the node will respond with an "inv" message containing MSG_TX hashes of all the transactions in the node's transaction memory pool. An "inv" message is always returned, even if empty. Feature discovery is enabled by checking two "version" message attributes: Protocol version &gt;= 60002 and NODE_NETWORK bit set in nServices. Older clients remain compatible and interoperable after this change.During discussions around the proposal, Pieter Wuille suggested allocating an extra service bit for the mempool-providing services, while Jeff Garzik suggested that nodes need to be able to identify whether a given inv is in response to a "mempool" command or not. There were also discussions around the usefulness of the empty "inv" message that would be returned even if there were no transactions in the memory pool. In separate email exchanges between Jeff Garzik and Pieter Wuille, they discussed the topic of nodes getting a memory pool refill at startup and the importance of returning an "inv" message even if empty. They also debated the utility of definitively identifying whether a node supports this functionality. Additionally, Pieter Wuille suggested using a new inv_type for MSG_MEMTX that could help save a few milliseconds by querying the right storage right away and help distinguish broadcast/relayed transactions from the response to a mempool request.Overall, the discussions centered around making improvements to the Bitcoin P2P protocol, taking into account the limitations of mobile clients and the need for clear and reliable responses.Pieter Wuille and Jeff Garzik had a discussion regarding the proposal of BIP 35, which aims to add a mempool message. The implementation of this new feature would allow nodes to query the memory pool of other nodes. When a "mempool" message is received, the node will respond with an "inv" message containing MSG_TX hashes of all the transactions in the node's transaction memory pool. Feature discovery is enabled by checking two "version" message attributes: Protocol version &gt;= 60002 and NODE_NETWORK bit set in nServices. Pieter suggests that the implementation of an extra service bit for this feature could be useful as it would mean that mempool-providing services may be discovered before connecting to them, as the service bits are carried around in addr messages.Jeff Garzik suggested creating a BIP to address changes in Bitcoin P2P system. One of the proposed changes was adding the ability to query the memory pool of a node, which would allow nodes to get a memory pool refill at startup. Another change proposed was enabling feature discovery by checking two "version" message attributes: Protocol version &gt;= 60002 and NODE_NETWORK bit set in nServices. Pieter suggested allocating an extra service bit for mempool-providing services. This would mean that these services could be discovered before connecting to them, as the service bits are carried around in addr messages.There were concerns about the usefulness of the empty "inv" message that would be returned even if there were no transactions in the memory pool. Jeff updated 'mempool' branch to not return "inv" if mempool is empty. In response to confirming the transmission of the mempool is complete, Pieter suggests using MSG_MEMTX instead of returning an empty "inv". But Jeff disagrees and suggests sending a ping(nonce) instead. Lastly, in August 2012, BitcoinJS announced a new feature for distinguishing incoming "getdata" requests. The suggestion was to use a new inv_type, MSG_MEMTX, which could help query the right storage immediately and help with things like DoS scoring. Additionally, if a node doesn't have anything in its mempool, it sends back an empty inv message. Stefan Thomas suggested responding with an inv message containing a single element of type MSG_MEMTX and hash 0, indicating that this response is associated with a mempool request. The author emphasizes that sometimes Bitcoin's protocol leaves out information and that implementing handling MSG_MEMTX is trivial.</summary>
    <published>2012-08-16T17:32:04+00:00</published>
  </entry>
</feed>
