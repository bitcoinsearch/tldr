<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Ephemeral Anchors: Fixing V3 Package RBF againstpackage limit pinning</title>
  <updated>2023-06-16T02:03:28.753098+00:00</updated>
  <author>
    <name>Arik Sosman 2022-10-18 15:33:32</name>
  </author>
  <author>
    <name>Jeremy Rubin 2022-10-18 16:41:19</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-18 18:18:45</name>
  </author>
  <author>
    <name>Greg Sanders 2023-03-13 16:38:25</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 14:59:09</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 20:47:28</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 20:22:38</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-04 02:07:29</name>
  </author>
  <author>
    <name>Greg Sanders 2022-11-30 15:32:36</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-18 18:18:45</name>
  </author>
  <author>
    <name>James O'Beirne 2022-10-19 15:11:57</name>
  </author>
  <author>
    <name>Greg Sanders 2022-11-30 15:32:36</name>
  </author>
  <author>
    <name>Arik Sosman 2022-10-18 15:33:32</name>
  </author>
  <author>
    <name>Greg Sanders 2023-01-27 14:05:20</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 20:22:38</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 20:47:28</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-04 16:02:45</name>
  </author>
  <author>
    <name>Arik Sosman 2022-10-18 15:33:32</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-18 15:51:30</name>
  </author>
  <author>
    <name>Jeremy Rubin 2022-10-18 16:41:19</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-20 13:42:26</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 14:52:09</name>
  </author>
  <author>
    <name>Greg Sanders 2023-03-13 16:38:25</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 14:59:09</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 18:36:24</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-04 16:02:45</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-18 15:51:30</name>
  </author>
  <author>
    <name>James O'Beirne 2022-10-19 15:11:57</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-20 13:42:26</name>
  </author>
  <author>
    <name>Greg Sanders 2022-11-30 15:32:36</name>
  </author>
  <author>
    <name>Greg Sanders 2023-01-27 14:05:20</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 15:06:53</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 18:36:24</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-04 16:02:45</name>
  </author>
  <author>
    <name>Johan Torås Halseth 2022-10-27 09:37:01</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-18 15:51:30</name>
  </author>
  <author>
    <name>Jeremy Rubin 2022-10-18 16:41:19</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-18 18:18:45</name>
  </author>
  <author>
    <name>James O'Beirne 2022-10-19 15:11:57</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 14:59:09</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 15:06:53</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 18:36:24</name>
  </author>
  <author>
    <name>Johan Torås Halseth 2022-10-27 09:37:01</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 14:52:09</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 20:22:38</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-03 22:10:43</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-04 02:07:29</name>
  </author>
  <author>
    <name>Greg Sanders 2023-01-27 14:05:20</name>
  </author>
  <author>
    <name>Johan Torås Halseth 2022-10-27 09:37:01</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 15:06:53</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-02 20:47:28</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-03 22:10:43</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-02 14:52:09</name>
  </author>
  <author>
    <name>Greg Sanders 2022-10-20 13:42:26</name>
  </author>
  <author>
    <name>Peter Todd 2023-02-03 22:10:43</name>
  </author>
  <author>
    <name>Greg Sanders 2023-02-04 02:07:29</name>
  </author>
  <author>
    <name>Greg Sanders 2023-03-13 16:38:25</name>
  </author>
  <link href="bitcoin-dev/Oct_2022/021038_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021041_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021043_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2023/021536_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021407_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021412_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021411_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021418_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2022/021222_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021043_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021058_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2022/021222_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021038_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Jan_2023/021373_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021411_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021412_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021425_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021038_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021039_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021041_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021071_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021406_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2023/021536_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021407_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021410_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021425_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021039_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021058_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021071_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2022/021222_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Jan_2023/021373_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021408_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021410_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021425_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021118_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021039_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021041_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021043_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021058_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021407_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021408_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021410_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021118_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021406_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021411_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021417_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021418_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Jan_2023/021373_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021118_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021408_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021412_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021417_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021406_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/021071_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021417_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/Feb_2023/021418_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <link href="bitcoin-dev/March_2023/021536_Ephemeral-Anchors-Fixing-V3-Package-RBF-againstpackage-limit-pinning.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - Ephemeral Anchors: Fixing V3 Package RBF againstpackage limit pinning</title>
    <updated>2023-06-16T02:03:28.754098+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021038.html" rel="alternate"/>
    <summary>Bitcoin developer Greg Sanders proposed a solution called "Ephemeral Anchors" to solve package limit pinning for fee-paying transactions in a bitcoin-dev email thread. The proposal marks outputs that MUST be spent in a V3 package with `OP_TRUE`. This ensures that any other output in the same parent transaction must directly double-spend prior spends of the ephemeral anchor. The proposal has several implications, including allowing any value to be spent on the ephemeral anchor and anyone being able to bump the transaction without any transaction key material. It also allows multi-party fee bumping, making it possible to safely splice directly into new channels, statechains, custodial wallet accounts, cold wallets, etc., without requiring other wallets to support arbitrary scripts. Change outputs can no longer be pinned, and RBF/CPFP becomes robust. Batched payouts become less painful. However, there are still open questions about whether non-zero value in ephemeral outputs opens up a MEV, and whether SIGHASH_GROUP-like constructs would allow uncommitted ephemeral anchors to be added at spend time, depending on spending requirements.The discussion also involves Peter Todd and Greg Sanders discussing the use of OP_2 in Bitcoin Core unit tests. Todd suggested using OP_TRUE instead, which plays better with other standardness rules. Sanders fixed the tests for the OP_TRUE case and shared the Github repo where they can be viewed. In another email chain, Sanders provided a link to the draft BIP for Ephemeral Anchors, which was shared on Github. The pull request for the proposal has been made, but the BIP itself remains unaffected.Moreover, two solutions were proposed to package limit pinning attacks on V3 transactions: expanding a carveout for "sibling eviction" or using Ephemeral Anchors. The latter allows for any value without worrying about bloating the UTXO set, directly double-spending prior spends of the ephemeral anchor, and benefiting traditional wallet scenarios. However, open questions remain regarding MEV and SIGHASH_GROUP constructs. In a discussion involving Peter Todd and Greg Sanders regarding the use of OP_2 as a means to avoid changing unit tests in Bitcoin Core, Todd expressed his dislike for the idea. He suggested using OP_TRUE instead, which results in a 1 on the stack and plays better with other standardness rules. Sanders had previously checked the proposal and found that it fails several standardness tests in unit/functional tests in Bitcoin Core.Greg Sanders reports that the use of OP_2 fails several standardness tests in Bitcoin Core. The conversation between Greg Sanders and Peter Todd revolves around the use of OP_TRUE as the canonical anyone-can-spend output. While Sanders feels that OP_TRUE is the obvious way to do this, Todd believes that scripts should leave just a single OP_TRUE on the stack at the end of execution, in order to avoid malleability issues.Finally, Greg Sanders is seeking feedback on the complexity of the implementation of the Ephemeral Anchors proposal and whether requiring these outputs for v3 would help with anonymity set and keep the v3 surface smaller. There are still open questions regarding this proposal, such as whether allowing non-zero value in ephemeral outputs opens up a MEV issue and whether SIGHASH_GROUP like constructs would allow uncommitted ephemeral anchors to be added at spend time, depending on spending requirements. The bitcoin-dev mailing list discussion also touched upon veto power over all inputs in V3 transactions and issues with ANYONECANPAY that require a more complex solution. The context includes links to the mailing list's subscription page and the BIP proposal on Github.</summary>
    <published>2022-10-18T15:33:32+00:00</published>
  </entry>
</feed>
